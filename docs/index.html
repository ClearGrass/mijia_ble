<!DOCTYPE html>
<!-- saved from url=(0076)http://wiki.n.miui.com/plugins/viewsource/viewpagesrc.action?pageId=70115818 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>查看源</title>
        <link rel="canonical" href="http://wiki.n.miui.com/pages/viewpage.action?pageId=$action.page.id">
        <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\u0022\u0022";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script>
<link type="text/css" rel="stylesheet" href="./index_files/batch.css" data-wrm-key="_super" data-wrm-batch-type="context" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/dba054264c6a0c1425b5ffebae0b3405-CDN/zh_CN/7111/583f3f4010922d699723a091097524472954c767/e860d0fc70e2f6d6e8992c9ce453f407/_/download/contextbatch/css/_super/batch.css?conditionalComment=lt+IE+9" data-wrm-key="_super" data-wrm-batch-type="context" media="all">
<![endif]-->
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/s/dba054264c6a0c1425b5ffebae0b3405-CDN/zh_CN/7111/583f3f4010922d699723a091097524472954c767/e860d0fc70e2f6d6e8992c9ce453f407/_/download/contextbatch/css/_super/batch.css?conditionalComment=lte+IE+9" data-wrm-key="_super" data-wrm-batch-type="context" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="./index_files/batch(1).css" data-wrm-key="plugin.viewsource,-_super" data-wrm-batch-type="context" media="all">
<link type="text/css" rel="stylesheet" href="./index_files/batch(2).css" data-wrm-key="page,-_super" data-wrm-batch-type="context" media="all">
<link type="text/css" rel="stylesheet" href="./index_files/batch(3).css" data-wrm-key="editor-content,-_super" data-wrm-batch-type="context" media="all">
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/s/5333d01b74d28ccfa1b186a79244abaf-CDN/zh_CN/7111/583f3f4010922d699723a091097524472954c767/a869b12e194abc35e5adcfbfcd1803a8/_/download/contextbatch/css/editor-content,-_super/batch.css?conditionalComment=lte+IE+9&amp;confluence.table.resizable=true&amp;confluence.view.edit.transition=true" data-wrm-key="editor-content,-_super" data-wrm-batch-type="context" media="all">
<![endif]-->

    </head>

    <body class="mceContentBody aui-theme-default wiki-content fullsize">
        <p>&nbsp;</p>         <h2 class="auto-cursor-target">米家蓝牙标准认证库</h2><p>mible_std_authen库是接入米家的蓝牙设备与米家app之间标准认证库，用于普通安全等级的设备接入米家APP。Mible_app_authen库会在蓝牙设备端建立Mi Service服务，用于认证交互。其中可供应用层使用的接口在mible_server.h文件中定义。</p><p>各接口功能如下：</p><table class="confluenceTable"><colgroup><col><col><col></colgroup><tbody><tr><th class="confluenceTh"><p>函数名</p></th><th class="confluenceTh"><p>功能</p></th><th class="confluenceTh"><p>说明</p></th></tr><tr><td class="confluenceTd"><p>mible_server_info_init</p></td><td class="confluenceTd"><p>初始化设备信息</p></td><td class="confluenceTd"><p>初始化一下参数：</p><p>1、绑定关系（强/弱）</p><p>2、产品id</p><p>3、版本号（四位数字字符如”1234”）</p></td></tr><tr><td class="confluenceTd"><p>mible_server_miservice_init</p></td><td class="confluenceTd"><p>初始化MiService</p></td><td class="confluenceTd"><p>用于初始化MiService，在初始化阶段调用</p></td></tr><tr><td class="confluenceTd"><p>mible_service_init_cmp</p></td><td class="confluenceTd"><p>MI SERVICE初始化完成回调函数</p></td><td class="confluenceTd"><p>当MiService初始化完成，会调用此函数，此函数可以在应用层实现。</p></td></tr><tr><td colspan="1" class="confluenceTd"><p>mible_connected</p></td><td colspan="1" class="confluenceTd"><p>连接回调函数</p></td><td colspan="1" class="confluenceTd"><p>当设备与app建立连接，会调用此函数，此函数可在应用层实现。</p></td></tr><tr><td colspan="1" class="confluenceTd"><p>mible_disconnected</p></td><td colspan="1" class="confluenceTd"><p>断开连接回调函数</p></td><td colspan="1" class="confluenceTd"><p>当设备与app断开连接，会调用</p></td></tr><tr><td colspan="1" class="confluenceTd"><p>mible_bonding_evt_callback</p></td><td colspan="1" class="confluenceTd"><p>认证结果回调函数</p></td><td colspan="1" class="confluenceTd"><p>设备第一次与米家app连接时，进入绑定流程，此函数返回绑定成功或失败的结果；绑定成功后(设备输入手机app的账号名下)，设备每次与app建立连接，都进行登录流程，此函数返回登录成功或失败的结果。</p><p>【注】建立连接后，在未绑定或登录成功前，设备端不能允许任何对设备的操作，如读写特性等。</p></td></tr></tbody></table><p><br></p><h2>平台支持情况</h2><table class="wrapped relative-table confluenceTable" style="width: 30.8152%;"><colgroup><col style="width: 5.12367%;"><col style="width: 13.7809%;"><col><col style="width: 21.2014%;"><col style="width: 33.0389%;"><col style="width: 26.8551%;"></colgroup><tbody><tr><th colspan="1" class="confluenceTh">Vendor</th><th class="confluenceTh">Platform</th><th colspan="1" class="confluenceTh">SDK version</th><th class="confluenceTh">mible api</th><th class="confluenceTh">mible_std_authen <span>sdk</span></th><th class="confluenceTh">version1.0</th></tr><tr><td rowspan="2" class="confluenceTd"><span>Nordic</span></td><td class="confluenceTd">52</td><td rowspan="2" class="confluenceTd">12.3.0</td><td class="confluenceTd">√</td><td class="confluenceTd"><span>√</span></td><td class="confluenceTd"><span>√</span></td></tr><tr><td colspan="1" class="confluenceTd">51</td><td colspan="1" class="confluenceTd"><span>√</span></td><td colspan="1" class="confluenceTd"><span>√</span></td><td colspan="1" class="confluenceTd"><span>√</span></td></tr><tr><td colspan="1" class="confluenceTd">Silicon labs</td><td colspan="1" class="confluenceTd">BG13</td><td colspan="1" class="confluenceTd"><br></td><td colspan="1" class="confluenceTd"><br></td><td colspan="1" class="confluenceTd"><br></td><td colspan="1" class="confluenceTd"><br></td></tr><tr><td colspan="1" class="confluenceTd">NXP</td><td colspan="1" class="confluenceTd">QN908</td><td colspan="1" class="confluenceTd">2.2</td><td colspan="1" class="confluenceTd"><span>√</span></td><td colspan="1" class="confluenceTd"><span>√</span></td><td colspan="1" class="confluenceTd"><span>√</span></td></tr><tr><td colspan="1" class="confluenceTd">Dialog</td><td colspan="1" class="confluenceTd"><br></td><td colspan="1" class="confluenceTd"><br></td><td colspan="1" class="confluenceTd"><br></td><td colspan="1" class="confluenceTd"><br></td><td colspan="1" class="confluenceTd"><br></td></tr><tr><td colspan="1" class="confluenceTd">ST</td><td colspan="1" class="confluenceTd"><br></td><td colspan="1" class="confluenceTd"><br></td><td colspan="1" class="confluenceTd"><br></td><td colspan="1" class="confluenceTd"><br></td><td colspan="1" class="confluenceTd"><br></td></tr><tr><td colspan="1" class="confluenceTd">Telink</td><td colspan="1" class="confluenceTd"><br></td><td colspan="1" class="confluenceTd"><br></td><td colspan="1" class="confluenceTd"><br></td><td colspan="1" class="confluenceTd"><br></td><td colspan="1" class="confluenceTd"><br></td></tr></tbody></table><p class="auto-cursor-target">mible_api ： <a href="https://github.com/MiEcosystem/mijia_ble_api.git">https://github.com/MiEcosystem/mijia_ble_api.git</a></p><p>mible_common:&nbsp;&nbsp;<a href="https://github.com/MiEcosystem/mijia_ble_common.git">https://github.com/MiEcosystem/mijia_ble_common.git</a></p><p>mible sdk:&nbsp;&nbsp;<a href="https://github.com/MiEcosystem/mijia_ble.git">https://github.com/MiEcosystem/mijia_ble.git</a></p><p><br></p><p><br></p><p><br></p>
        <p>&nbsp;</p>
    

</body></html>